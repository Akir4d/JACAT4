"function"!=typeof Object.create&&(Object.create=function(o){function t(){}return t.prototype=o,new t});var NotyObject={init:function(o){if(this.options=$.extend({},$.noty.defaults,o),this.options.layout=this.options.custom?$.noty.layouts.inline:$.noty.layouts[this.options.layout],$.noty.themes[this.options.theme]?(this.options.theme=$.noty.themes[this.options.theme],this.options.theme.template&&(this.options.template=this.options.theme.template),this.options.theme.animation&&(this.options.animation=this.options.theme.animation)):this.options.themeClassName=this.options.theme,this.options=$.extend({},this.options,this.options.layout.options),this.options.id){if($.noty.store[this.options.id])return $.noty.store[this.options.id]}else this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random());return this._build(),this},_build:function(){var o=$('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(o.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?$(this.options.layout.parent.object).css(this.options.layout.parent.css).append(o):o,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){var t;this.$bar.find(".noty_buttons").length>0?t=this.$bar.find(".noty_buttons"):(t=$("<div/>").addClass("noty_buttons"),null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(t):this.$bar.append(t));var n=this;$.each(this.options.buttons,function(o,e){var i=$("<button/>").addClass(e.addClass?e.addClass:"gray").html(e.text).attr("id",e.id?e.id:"button-"+o).attr("title",e.title).appendTo(t).on("click",function(o){$.isFunction(e.onClick)&&e.onClick.call(i,n,o)})})}else this.$bar.find(".noty_buttons").remove();if(this.options.progressBar&&this.options.timeout){var e=$("<div/>").addClass("noty_progress_bar");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(e):this.$bar.append(e)}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),this.$progressBar=this.$bar.find(".noty_progress_bar"),$.noty.store[this.options.id]=this},show:function(){var o=this;return o.options.custom?o.options.custom.find(o.options.layout.container.selector).append(o.$bar):$(o.options.layout.container.selector).append(o.$bar),o.options.theme&&o.options.theme.style&&o.options.theme.style.apply(o),"function"===$.type(o.options.layout.css)?this.options.layout.css.apply(o.$bar):o.$bar.css(this.options.layout.css||{}),o.$bar.addClass(o.options.layout.addClass),o.options.layout.container.style.apply($(o.options.layout.container.selector),[o.options.within]),o.showing=!0,o.options.theme&&o.options.theme.style&&o.options.theme.callback.onShow.apply(this),$.inArray("click",o.options.closeWith)>-1&&o.$bar.css("cursor","pointer").on("click",function(t){o.stopPropagation(t),o.options.callback.onCloseClick&&o.options.callback.onCloseClick.apply(o),o.close()}),$.inArray("hover",o.options.closeWith)>-1&&o.$bar.one("mouseenter",function(){o.close()}),$.inArray("button",o.options.closeWith)>-1&&o.$closeButton.one("click",function(t){o.stopPropagation(t),o.close()}),$.inArray("button",o.options.closeWith)==-1&&o.$closeButton.remove(),o.options.callback.beforeShow&&o.options.callback.beforeShow.apply(o),"string"==typeof o.options.animation.open?(o.animationTypeOpen="css",o.$bar.css("min-height",o.$bar.innerHeight()),o.$bar.on("click",function(t){o.wasClicked=!0}),o.$bar.show(),o.options.callback.onShow&&o.options.callback.onShow.apply(o),o.$bar.addClass(o.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){o.options.callback.afterShow&&o.options.callback.afterShow.apply(o),o.showing=!1,o.shown=!0,o.bindTimeout(),o.hasOwnProperty("wasClicked")&&(o.$bar.off("click",function(t){o.wasClicked=!0}),o.close())})):"object"==typeof o.options.animation.open&&null==o.options.animation.open?(o.animationTypeOpen="none",o.showing=!1,o.shown=!0,o.$bar.show(),o.bindTimeout(),o.options.callback.onShow&&o.options.callback.onShow.apply(o),o.$bar.queue(function(){o.options.callback.afterShow&&o.options.callback.afterShow.apply(o)})):(o.animationTypeOpen="anim",o.options.callback.onShow&&o.options.callback.onShow.apply(o),o.$bar.animate(o.options.animation.open,o.options.animation.speed,o.options.animation.easing,function(){o.options.callback.afterShow&&o.options.callback.afterShow.apply(o),o.showing=!1,o.shown=!0,o.bindTimeout()})),this},bindTimeout:function(){var o=this;o.options.timeout&&(o.options.progressBar&&o.$progressBar&&o.$progressBar.css({transition:"all "+o.options.timeout+"ms linear",width:"0%"}),o.queueClose(o.options.timeout),o.$bar.on("mouseenter",o.dequeueClose.bind(o)),o.$bar.on("mouseleave",o.queueClose.bind(o,o.options.timeout)))},dequeueClose:function(){var o=this;o.options.progressBar&&this.$progressBar.css({transition:"none",width:"100%"}),this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},queueClose:function(o){var t=this;if(t.options.progressBar&&t.$progressBar.css({transition:"all "+t.options.timeout+"ms linear",width:"0%"}),!this.closeTimer)return t.closeTimer=window.setTimeout(function(){t.close()},o),t.closeTimer},close:function(){if(this.$progressBar&&this.$progressBar.remove(),this.closeTimer&&this.dequeueClose(),!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var o=this;if(this.showing&&("anim"==this.animationTypeOpen||"none"==this.animationTypeOpen))return void o.$bar.queue(function(){o.close.apply(o)});if(this.showing&&"css"==this.animationTypeOpen&&o.$bar.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){o.close()}),!this.shown&&!this.showing){var t=[];return $.each($.noty.queue,function(n,e){e.options.id!=o.options.id&&t.push(e)}),void($.noty.queue=t)}o.$bar.addClass("i-am-closing-now"),o.options.callback.onClose&&o.options.callback.onClose.apply(o),"string"==typeof o.options.animation.close?o.$bar.removeClass(o.options.animation.open).addClass(o.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){o.options.callback.afterClose&&o.options.callback.afterClose.apply(o),o.closeCleanUp()}):"object"==typeof o.options.animation.close&&null==o.options.animation.close?o.$bar.dequeue().hide(0,function(){o.options.callback.afterClose&&o.options.callback.afterClose.apply(o),o.closeCleanUp()}):o.$bar.clearQueue().stop().animate(o.options.animation.close,o.options.animation.speed,o.options.animation.easing,function(){o.options.callback.afterClose&&o.options.callback.afterClose.apply(o)}).promise().done(function(){o.closeCleanUp()})}},closeCleanUp:function(){var o=this;o.options.modal&&($.notyRenderer.setModalCount(-1),0!=$.notyRenderer.getModalCount()||$.noty.queue.length||$(".noty_modal").fadeOut(o.options.animation.fadeSpeed,function(){$(this).remove()})),$.notyRenderer.setLayoutCountFor(o,-1),0==$.notyRenderer.getLayoutCountFor(o)&&$(o.options.layout.container.selector).remove(),"undefined"!=typeof o.$bar&&null!==o.$bar?"string"==typeof o.options.animation.close?(o.$bar.css("transition","all 10ms ease").css("border",0).css("margin",0).height(0),o.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){o.$bar.remove(),o.$bar=null,o.closed=!0,o.options.theme.callback&&o.options.theme.callback.onClose&&o.options.theme.callback.onClose.apply(o),o.handleNext()})):(o.$bar.remove(),o.$bar=null,o.closed=!0,o.handleNext()):o.handleNext()},handleNext:function(){var o=this;delete $.noty.store[o.options.id],o.options.theme.callback&&o.options.theme.callback.onClose&&o.options.theme.callback.onClose.apply(o),o.options.dismissQueue||($.noty.ontap=!0,$.notyRenderer.render()),o.options.maxVisible>0&&o.options.dismissQueue&&$.notyRenderer.render()},setText:function(o){return this.closed||(this.options.text=o,this.$bar.find(".noty_text").html(o)),this},setType:function(o){return this.closed||(this.options.type=o,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(o){if(!this.closed){var t=this;this.options.timeout=o,t.$bar.delay(t.options.timeout).promise().done(function(){t.close()})}return this},stopPropagation:function(o){o=o||window.event,"undefined"!=typeof o.stopPropagation?o.stopPropagation():o.cancelBubble=!0},closed:!1,showing:!1,shown:!1};$.notyRenderer={},$.notyRenderer.init=function(o){var t=Object.create(NotyObject).init(o);return t.options.killer&&$.noty.closeAll(),t.options.force?$.noty.queue.unshift(t):$.noty.queue.push(t),$.notyRenderer.render(),"object"==$.noty.returns?t:t.options.id},$.notyRenderer.render=function(){var o=$.noty.queue[0];"object"===$.type(o)?o.options.dismissQueue?o.options.maxVisible>0?$(o.options.layout.container.selector+" > li").length<o.options.maxVisible&&$.notyRenderer.show($.noty.queue.shift()):$.notyRenderer.show($.noty.queue.shift()):$.noty.ontap&&($.notyRenderer.show($.noty.queue.shift()),$.noty.ontap=!1):$.noty.ontap=!0},$.notyRenderer.show=function(o){o.options.modal&&($.notyRenderer.createModalFor(o),$.notyRenderer.setModalCount(1)),o.options.custom?0==o.options.custom.find(o.options.layout.container.selector).length?o.options.custom.append($(o.options.layout.container.object).addClass("i-am-new")):o.options.custom.find(o.options.layout.container.selector).removeClass("i-am-new"):0==$(o.options.layout.container.selector).length?$("body").append($(o.options.layout.container.object).addClass("i-am-new")):$(o.options.layout.container.selector).removeClass("i-am-new"),$.notyRenderer.setLayoutCountFor(o,1),o.show()},$.notyRenderer.createModalFor=function(o){if(0==$(".noty_modal").length){var t=$("<div/>").addClass("noty_modal").addClass(o.options.theme).data("noty_modal_count",0);o.options.theme.modal&&o.options.theme.modal.css&&t.css(o.options.theme.modal.css),t.prependTo($("body")).fadeIn(o.options.animation.fadeSpeed),$.inArray("backdrop",o.options.closeWith)>-1&&t.on("click",function(){$.noty.closeAll()})}},$.notyRenderer.getLayoutCountFor=function(o){return $(o.options.layout.container.selector).data("noty_layout_count")||0},$.notyRenderer.setLayoutCountFor=function(o,t){return $(o.options.layout.container.selector).data("noty_layout_count",$.notyRenderer.getLayoutCountFor(o)+t)},$.notyRenderer.getModalCount=function(){return $(".noty_modal").data("noty_modal_count")||0},$.notyRenderer.setModalCount=function(o){return $(".noty_modal").data("noty_modal_count",$.notyRenderer.getModalCount()+o)},$.fn.noty=function(o){return o.custom=$(this),$.notyRenderer.init(o)},$.noty={},$.noty.queue=[],$.noty.ontap=!0,$.noty.layouts={},$.noty.themes={},$.noty.returns="object",$.noty.store={},$.noty.get=function(o){return!!$.noty.store.hasOwnProperty(o)&&$.noty.store[o]},$.noty.close=function(o){return!!$.noty.get(o)&&$.noty.get(o).close()},$.noty.setText=function(o,t){return!!$.noty.get(o)&&$.noty.get(o).setText(t)},$.noty.setType=function(o,t){return!!$.noty.get(o)&&$.noty.get(o).setType(t)},$.noty.clearQueue=function(){$.noty.queue=[]},$.noty.closeAll=function(){$.noty.clearQueue(),$.each($.noty.store,function(o,t){t.close()})};var windowAlert=window.alert;$.noty.consumeAlert=function(o){window.alert=function(t){o?o.text=t:o={text:t},$.notyRenderer.init(o)}},$.noty.stopConsumeAlert=function(){window.alert=windowAlert},$.noty.defaults={layout:"topRight",theme:"relax",type:"alert",text:"",progressBar:!1,dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{beforeShow:function(){},onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},$(window).on("resize",function(){$.each($.noty.layouts,function(o,t){t.container.style.apply($(t.container.selector))})}),window.noty=function(o){return $.notyRenderer.init(o)};
//# sourceMappingURL=jquery.noty.min.js.map